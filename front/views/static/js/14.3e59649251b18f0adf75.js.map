{"version":3,"sources":["webpack:///./src/common/api/info.js","webpack:///./src/views/ot/components/ot-info-detail-dialog.vue?b39e","webpack:///./src/common/api/user.js","webpack:///./src/views/ot/components/ot-info-detail-dialog.vue?bada","webpack:///src/views/ot/components/ot-info-detail-dialog.vue","webpack:///./src/views/ot/components/ot-info-detail-dialog.vue?7ee0","webpack:///./src/views/ot/components/ot-info-detail-dialog.vue"],"names":["applyOt","params","__WEBPACK_IMPORTED_MODULE_0__request__","post","FULL_LOADING","getPersonalInfo","TABLE_LOADING","deleteInfo","content","__webpack_require__","module","i","locals","exports","login","BUTTON_LOADING","fuzzySearch","logout","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","ot_info_detail_dialog","check_status","_this","this","isEdited","data","endTime","realname","_this2","then","_ref","value","row","id","deptId","status","reason","holidays","startTime","days","passStatus","result","selectedData","close","msg","_this3","components_ot_info_detail_dialog","render","_vm","_h","$createElement","_c","_self","attrs","title","visible","dialogFormVisible","on","update:visible","$event","label","label-width","formLabelWidth","disabled","model","callback","$$v","$set","expression","_v","_e","type","range-separator","start-placeholder","end-placeholder","format","change","changeTime","dateVal","scopedSlots","_u","key","fn","scope","_s","options","name","staticClass","operator","remark1","remark2","slot","click","changeStatus","updateData","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.3e59649251b18f0adf75.js","sourcesContent":["import request from './request';\r\n\r\n// 申请/修改 加班\r\nexport const applyOt = function (params) {\r\n  return request.post('info/applyOt', params, request.FULL_LOADING);\r\n};\r\n\r\n// 查找个人加班信息\r\nexport const getPersonalInfo = function (params) {\r\n  return request.post('info/getPersonalInfo', params, request.TABLE_LOADING);\r\n};\r\n\r\n// 删除个人加班信息\r\nexport const deleteInfo = function (params) {\r\n  return request.post('info/deleteInfo', params, request.TABLE_LOADING);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/info.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.9@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-138fcea8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./ot-info-detail-dialog.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.1@vue-style-loader/lib/addStylesClient.js\")(\"cfe117c2\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.1@vue-style-loader!./node_modules/_css-loader@0.28.9@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-138fcea8\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/ot/components/ot-info-detail-dialog.vue\n// module id = QpbR\n// module chunks = 1 13 14","import request from './request';\r\n\r\n/**\r\n * @desc 登录\r\n * @param {\r\n\"userName\":\"qy\",\r\n\"userType\":\"master\",\r\n\"cityId\":\"0\"\r\n}\r\n */\r\nexport const login = function (params) {\r\n  return request.post('user/login', params, request.BUTTON_LOADING);\r\n};\r\n\r\nexport const fuzzySearch = function (params) {\r\n  return request.post('user/fuzzySearch', params, request.BUTTON_LOADING);\r\n};\r\n\r\nexport const syncDept = function (params) {\r\n  return request.post('user/syncDept', params, request.BUTTON_LOADING);\r\n};\r\n\r\nexport const logout = function (params) {\r\n  return request.post('user/logout', params, request.BUTTON_LOADING);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/user.js","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.9@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.reject-tip {\\n  margin: 0 10px;\\n  color: red;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"F:/OTProduction/app/src/views/ot/components/ot-info-detail-dialog.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,eAAe;EACf,WAAW;CACZ\",\"file\":\"ot-info-detail-dialog.vue\",\"sourcesContent\":[\"\\n.reject-tip {\\n  margin: 0 10px;\\n  color: red;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.9@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-138fcea8\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/ot/components/ot-info-detail-dialog.vue\n// module id = iDuR\n// module chunks = 1 13 14","<template>\r\n   <div>\r\n   <el-dialog title=\"详情\" :visible.sync=\"dialogFormVisible\" @close=\"close\">\r\n    <el-form >\r\n      <el-form-item label=\"编号\" :label-width=\"formLabelWidth\">\r\n        <el-input  v-model=\"selectedData.id\" disabled></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"申请者\" :label-width=\"formLabelWidth\">\r\n        <el-input  v-model=\"selectedData.name\" disabled></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"部门\" :label-width=\"formLabelWidth\">\r\n        <el-input v-if=\"selectedData.deptName\" v-model=\"selectedData.deptName\" disabled></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"加班时间\" :label-width=\"formLabelWidth\">\r\n          <el-date-picker\r\n          :disabled=\"!isEdited\"\r\n        v-model=\"dateVal\"\r\n        type=\"datetimerange\"\r\n        range-separator=\"至\"\r\n        start-placeholder=\"开始日期\"\r\n        end-placeholder=\"结束日期\"\r\n        format=\"yyyy-MM-dd HH:mm\" \r\n        @change=\"changeTime\">\r\n      </el-date-picker>\r\n      </el-form-item>\r\n      <el-form-item label=\"总时长\" :label-width=\"formLabelWidth\">\r\n        <el-input  v-model=\"selectedData.days\" disabled></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"调休时长\" :label-width=\"formLabelWidth\">\r\n        <el-input  v-model=\"selectedData.holidays\" :disabled=\"!isEdited\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"事由\" :label-width=\"formLabelWidth\">\r\n        <el-input  v-model=\"selectedData.reason\" :disabled=\"!isEdited\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"状态\" :label-width=\"formLabelWidth\">\r\n       <template slot-scope=\"scope\">\r\n        <!-- {{options[scope.row.status]}} -->\r\n       {{ options['status'+selectedData.status].name}} \r\n       <span class=\"reject-tip\" v-if=\"selectedData.status === 11 || selectedData.status === 21 || selectedData.status === 31\"> \r\n         (拒绝理由: \r\n              <span v-if=\"selectedData.remark1\">{{selectedData.operator}}:{{selectedData.remark1 }}</span>\r\n              <span v-if=\"selectedData.remark2\">{{selectedData.operator}}:{{selectedData.remark2 }}</span>\r\n        )\r\n       </span>\r\n     \r\n\r\n      </template>\r\n      </el-form-item>\r\n        <el-form-item label=\"部门负责人\" :label-width=\"formLabelWidth\">\r\n        <el-input v-model=\"selectedData.leaderName\" disabled></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n        \r\n      <el-button v-if=\"isEdited&&(selectedData.status === 1 || selectedData.status === 2 || selectedData.status === 3)\" type=\"danger\" @click=\"changeStatus('reject',selectedData)\">审核拒绝</el-button>\r\n      <el-button v-if=\"isEdited&&(selectedData.status === 11 || selectedData.status === 21 || selectedData.status === 31)\" type=\"success\" @click=\"changeStatus('pass',selectedData)\">审核通过</el-button>\r\n       \r\n      <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"updateData\" v-if=\"isEdited\">保 存</el-button>\r\n    </div>\r\n  </el-dialog>\r\n </div> \r\n</template>\r\n<script>\r\nimport Tools from '@/common/utils/tools';\r\nimport checkStatus from '@/common/utils/check-status';\r\nimport { fuzzySearch } from '@/common/api/user';\r\nimport ApplyApi from '@/common/api/apply';\r\nimport HttpStatus from '@/common/http/status';\r\nimport { applyOt } from '@/common/api/info';\r\nexport default {\r\n  data () {\r\n    return {\r\n      dialogFormVisible: false,\r\n      dateVal: [],\r\n      formLabelWidth: '100px',\r\n      isEdited: false,\r\n      options: checkStatus,\r\n      selectedData: { t_dept: {} }\r\n    };\r\n  },\r\n  methods: {\r\n    open (data, isEdited) {\r\n      this.dialogFormVisible = true;\r\n      if (isEdited) this.isEdited = isEdited;\r\n      this.selectedData = Object.assign({}, data);\r\n      this.dateVal = [this.selectedData.startTime, this.selectedData.endTime];\r\n      if (this.selectedData.operator) {\r\n        fuzzySearch({ account: this.selectedData.operator }).then((result) => {\r\n          if (result.code === 1) {\r\n            if (result.data && result.data[0]) {\r\n              this.selectedData.operator = result.data[0].realname;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    changeStatus (passStatus, row) {\r\n      // status.passStatus = passStatus;\r\n      // this.$emit('callback', status);\r\n      if (passStatus === 'reject') {\r\n        this.$prompt('请输入理由', '提示', {\r\n          confirmButtonText: '拒绝',\r\n          cancelButtonText: '取消',\r\n          inputPattern: /\\S/,\r\n          inputErrorMessage: '请输入拒绝理由'\r\n        }).then(({ value }) => {\r\n          console.log('@@##rejct :' + JSON.stringify(row));\r\n          ApplyApi.changeExaminaStatus({\r\n            id: row.id,\r\n            deptId: row.deptId,\r\n            status: row.status,\r\n            reason: row.reason,\r\n            remark: value, // 状态改变原因\r\n            holidays: row.holidays,\r\n            startTime: this.selectedData.startTime,\r\n            endTime: this.selectedData.endTime,\r\n            days: this.selectedData.days,\r\n            ctrl: passStatus,\r\n            rejectOwn: true // 修改拒绝自己\r\n          }).then(result => {\r\n            if (HttpStatus.checkHttpResult(result)) {\r\n              this.$emit('callback', this.selectedData);\r\n              this.close();\r\n            } else {\r\n              this.$message.error(result.msg);\r\n            }\r\n          });\r\n        }).catch(() => {\r\n\r\n        });\r\n      } else if (passStatus === 'pass') {\r\n        ApplyApi.changeExaminaStatus({\r\n          id: row.id,\r\n          deptId: row.deptId,\r\n          status: row.status,\r\n          reason: row.reason,\r\n          ctrl: passStatus,\r\n          holidays: row.holidays,\r\n          startTime: this.selectedData.startTime,\r\n          endTime: this.selectedData.endTime,\r\n          days: this.selectedData.days\r\n        }).then(result => {\r\n          if (HttpStatus.checkHttpResult(result)) {\r\n            this.$emit('callback', this.selectedData);\r\n            this.close();\r\n          } else {\r\n            this.$message.error(result.msg);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    close () {\r\n      this.dialogFormVisible = false;\r\n      this.selectedData = { status: 0, t_dept: {} };\r\n      this.isEdited = false;\r\n    },\r\n    updateData () {\r\n      // this.$emit('callback', this.selectedData);\r\n      if (this.selectedData.holidays === '') {\r\n        this.selectedData.holidays = 0;\r\n      }\r\n      applyOt(this.selectedData).then(result => {\r\n        this.dialogFormVisible = false;\r\n        if (result.code === 1) {\r\n          this.$emit('callback', this.selectedData);\r\n          this.$refs.detailDialog.close();\r\n          this.$message({\r\n            message: '修改成功！',\r\n            type: 'success'\r\n          });\r\n          return;\r\n        }\r\n        this.$message.error(result.msg);\r\n      });\r\n    },\r\n    changeTime (time) {\r\n      this.selectedData.startTime = Tools.formatDate(time[0].getTime(), 'yyyy-MM-dd hh:mm:ss');\r\n      this.selectedData.endTime = Tools.formatDate(time[1].getTime(), 'yyyy-MM-dd hh:mm:ss');\r\n      // let total = new Date(time[1] - time[0]).getTime();\r\n      this.selectedData.days = Tools.getValidHoliDays(time[0], time[1]);\r\n    }\r\n  },\r\n  created () {\r\n\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.reject-tip {\r\n  margin: 0 10px;\r\n  color: red;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/ot/components/ot-info-detail-dialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":\"详情\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event},\"close\":_vm.close}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"编号\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.selectedData.id),callback:function ($$v) {_vm.$set(_vm.selectedData, \"id\", $$v)},expression:\"selectedData.id\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"申请者\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.selectedData.name),callback:function ($$v) {_vm.$set(_vm.selectedData, \"name\", $$v)},expression:\"selectedData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门\",\"label-width\":_vm.formLabelWidth}},[(_vm.selectedData.deptName)?_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.selectedData.deptName),callback:function ($$v) {_vm.$set(_vm.selectedData, \"deptName\", $$v)},expression:\"selectedData.deptName\"}}):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"加班时间\",\"label-width\":_vm.formLabelWidth}},[_c('el-date-picker',{attrs:{\"disabled\":!_vm.isEdited,\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"format\":\"yyyy-MM-dd HH:mm\"},on:{\"change\":_vm.changeTime},model:{value:(_vm.dateVal),callback:function ($$v) {_vm.dateVal=$$v},expression:\"dateVal\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"总时长\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.selectedData.days),callback:function ($$v) {_vm.$set(_vm.selectedData, \"days\", $$v)},expression:\"selectedData.days\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"调休时长\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":!_vm.isEdited},model:{value:(_vm.selectedData.holidays),callback:function ($$v) {_vm.$set(_vm.selectedData, \"holidays\", $$v)},expression:\"selectedData.holidays\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"事由\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":!_vm.isEdited},model:{value:(_vm.selectedData.reason),callback:function ($$v) {_vm.$set(_vm.selectedData, \"reason\", $$v)},expression:\"selectedData.reason\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"label-width\":_vm.formLabelWidth},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n      \"+_vm._s(_vm.options['status'+_vm.selectedData.status].name)+\" \\n      \"),(_vm.selectedData.status === 11 || _vm.selectedData.status === 21 || _vm.selectedData.status === 31)?_c('span',{staticClass:\"reject-tip\"},[_vm._v(\" \\n        (拒绝理由: \\n             \"),(_vm.selectedData.remark1)?_c('span',[_vm._v(_vm._s(_vm.selectedData.operator)+\":\"+_vm._s(_vm.selectedData.remark1))]):_vm._e(),_vm._v(\" \"),(_vm.selectedData.remark2)?_c('span',[_vm._v(_vm._s(_vm.selectedData.operator)+\":\"+_vm._s(_vm.selectedData.remark2))]):_vm._e(),_vm._v(\"\\n       )\\n      \")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门负责人\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.selectedData.leaderName),callback:function ($$v) {_vm.$set(_vm.selectedData, \"leaderName\", $$v)},expression:\"selectedData.leaderName\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.isEdited&&(_vm.selectedData.status === 1 || _vm.selectedData.status === 2 || _vm.selectedData.status === 3))?_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.changeStatus('reject',_vm.selectedData)}}},[_vm._v(\"审核拒绝\")]):_vm._e(),_vm._v(\" \"),(_vm.isEdited&&(_vm.selectedData.status === 11 || _vm.selectedData.status === 21 || _vm.selectedData.status === 31))?_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.changeStatus('pass',_vm.selectedData)}}},[_vm._v(\"审核通过\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.isEdited)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateData}},[_vm._v(\"保 存\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-138fcea8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/ot/components/ot-info-detail-dialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-138fcea8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=styles&index=0!./ot-info-detail-dialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ot-info-detail-dialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ot-info-detail-dialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-138fcea8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./ot-info-detail-dialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ot/components/ot-info-detail-dialog.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}