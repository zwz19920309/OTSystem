{"version":3,"sources":["webpack:///./src/common/api/info.js","webpack:///src/views/ot/ot-myot.vue","webpack:///./src/views/ot/ot-myot.vue?2394","webpack:///./src/views/ot/ot-myot.vue","webpack:///./src/views/ot/components/ot-info-detail-dialog.vue?b39e","webpack:///./src/views/ot/ot-myot.vue?9834","webpack:///./src/common/api/apply.js","webpack:///./src/common/http/status.js","webpack:///./src/views/ot/components/ot-info-detail-dialog.vue?bada","webpack:///./src/views/ot/ot-myot.vue?2529","webpack:///src/views/ot/components/ot-info-detail-dialog.vue","webpack:///./src/views/ot/components/ot-info-detail-dialog.vue?7ee0","webpack:///./src/views/ot/components/ot-info-detail-dialog.vue"],"names":["applyOt","params","__WEBPACK_IMPORTED_MODULE_0__request__","post","FULL_LOADING","getPersonalInfo","TABLE_LOADING","deleteInfo","ot_myot","otInfoDetailDialog","ot_info_detail_dialog","isEdited","getData","pageSize","page","_this","this","userInfo","id","searchDate","rows","count","msg","err","_this2","property","dateStr","check_status","_this3","ot_ot_myot","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","type","placeholder","on","change","search","model","value","callback","$$v","expression","directives","name","rawName","$store","state","common","staticStyle","width","data","tableData","border","label","scopedSlots","_u","key","fn","scope","_s","$index","prop","min-width","formatter","dateFormat","options","row","status","fixed","size","click","$event","dataDetail","_e","deleteData","background","layout","page-sizes","page-size","total","size-change","handleSizeChange","current-change","handleCurrentChange","ref","updateData","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","content","module","i","locals","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","examina","getCheckedList","getExaminaList","changeExaminaStatus","passExaminaList","HttpStatus","SUCCESS","FAIL","EMPTY","EXCEPTION","ERROR_DB","ERROR_PARAMS","result","code","endTime","realname","then","_ref","deptId","reason","holidays","startTime","days","passStatus","selectedData","close","components_ot_info_detail_dialog","title","visible","dialogFormVisible","update:visible","label-width","formLabelWidth","disabled","$set","range-separator","start-placeholder","end-placeholder","format","changeTime","dateVal","operator","remark1","remark2","slot","changeStatus"],"mappings":"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","file":"static/js/1.d8b4cae8f9fed2b744d1.js","sourcesContent":["import request from './request';\r\n\r\n// 申请/修改 加班\r\nexport const applyOt = function (params) {\r\n  return request.post('info/applyOt', params, request.FULL_LOADING);\r\n};\r\n\r\n// 查找个人加班信息\r\nexport const getPersonalInfo = function (params) {\r\n  return request.post('info/getPersonalInfo', params, request.TABLE_LOADING);\r\n};\r\n\r\n// 删除个人加班信息\r\nexport const deleteInfo = function (params) {\r\n  return request.post('info/deleteInfo', params, request.TABLE_LOADING);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/info.js","<template>\r\n<div>\r\n  <div class=\"mrg10 t-left\">\r\n    <span class=\"demonstration\">月份</span>\r\n    <el-date-picker\r\n      v-model=\"searchDate\"\r\n      type=\"month\"\r\n      placeholder=\"选择月\"\r\n      @change=\"search\">\r\n    </el-date-picker>\r\n  </div>\r\n  <el-table\r\n  v-loading=\"$store.state.common.tableLoading\"\r\n  :data=\"tableData\"\r\n    border\r\n    style=\"width: 100%\">\r\n    <el-table-column\r\n      label=\"编号\"\r\n      width=\"80\">\r\n    <template slot-scope=\"scope\">{{(scope.$index + 1) + (pageSize * (page - 1))}}</template>\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"name\"\r\n      label=\"申请者\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"deptName\"\r\n      label=\"部门\"\r\n      min-width=\"150\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"startTime\"\r\n      label=\"开始时间\"\r\n      :formatter=\"dateFormat\"\r\n      min-width=\"120\"  \r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"endTime\"\r\n      label=\"结束时间\"\r\n      :formatter=\"dateFormat\"\r\n      min-width=\"120\"  \r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"days\"\r\n      label=\"总时长\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"holidays\"\r\n      label=\"调休时长\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"reason\"\r\n      label=\"加班事由\"\r\n      min-width=\"150\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      label=\"状态\"\r\n      >\r\n      <template slot-scope=\"scope\">\r\n        <!-- {{options[scope.row.status]}} -->\r\n       {{ options['status'+scope.row.status].name}}\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"t_dept.checkerName\"\r\n      label=\"审批人\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      fixed=\"right\"\r\n      label=\"操作\"\r\n      min-width=\"120\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button @click=\"dataDetail(scope.row)\" type=\"text\" size=\"small\">详情</el-button>\r\n        <el-button v-if=\"scope.row.status === 0\" @click=\"dataDetail(scope.row, true)\" type=\"text\" size=\"small\">编辑</el-button>\r\n        <el-button @click=\"deleteData(scope.row.id)\" type=\"text\" size=\"small\">强制撤回</el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n  <el-pagination\r\n    background\r\n    layout=\"sizes, prev, pager, next\"\r\n    @size-change=\"handleSizeChange\"\r\n    @current-change=\"handleCurrentChange\"\r\n    :page-sizes=\"[5, 10, 20, 50]\"\r\n    :page-size=\"pageSize\"\r\n    :total=\"count\"\r\n    class=\"overHidden t-right mrg10\"\r\n    >\r\n  </el-pagination>\r\n  <ot-info-detail-dialog ref=\"detailDialog\" @callback=\"updateData\"></ot-info-detail-dialog>\r\n</div>\r\n</template>\r\n<script>\r\nimport Tools from '@/common/utils/tools';\r\nimport { getPersonalInfo, deleteInfo } from '@/common/api/info';\r\nimport bus from '@/common/bus/bus';\r\nimport otInfoDetailDialog from './components/ot-info-detail-dialog.vue';\r\nimport checkStatus from '@/common/utils/check-status';\r\n\r\nexport default {\r\n  components: {\r\n    otInfoDetailDialog\r\n  },\r\n  methods: {\r\n    dataDetail (data, isEdited) {\r\n      this.$refs.detailDialog.open(data, isEdited);\r\n    },\r\n    search () {\r\n      this.getData();\r\n    },\r\n    handleSizeChange (pageSize) {\r\n      this.pageSize = pageSize;\r\n      this.getData();\r\n    },\r\n    handleCurrentChange (page) {\r\n      this.page = page;\r\n      this.getData();\r\n    },\r\n    getData () {\r\n      let userInfo = this.$store.state.user.userInfo;\r\n      let params = {\r\n        id: userInfo.id,\r\n        page: this.page,\r\n        pageSize: this.pageSize,\r\n        month: this.searchDate\r\n      };\r\n      getPersonalInfo(params).then(result => {\r\n        if (result.code === 1 && result.data) {\r\n          this.tableData = result.data.rows;\r\n          this.count = result.data.count;\r\n          return;\r\n        }\r\n        this.$message.error(result.msg);\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n    },\r\n    updateData (selectedData) {\r\n      // if (selectedData.holidays === '') {\r\n      //   selectedData.holidays = 0;\r\n      // }\r\n      // applyOt(selectedData).then(result => {\r\n      //   this.dialogFormVisible = false;\r\n      //   if (result.code === 1) {\r\n      //     this.$refs.detailDialog.close();\r\n      //     this.$message({\r\n      //       message: '修改成功！',\r\n      //       type: 'success'\r\n      //     });\r\n      //     this.getData();\r\n      //     return;\r\n      //   }\r\n      //   this.$message.error(result.msg);\r\n      // });\r\n      this.getData();\r\n    },\r\n    deleteData (id) {\r\n      this.$confirm('是否将该申请强制撤回(删除不可恢复)').then(_ => {\r\n        deleteInfo({ id: id }).then(result => {\r\n          if (result.code === 1) {\r\n            this.$message({\r\n              message: result.msg,\r\n              type: 'success'\r\n            });\r\n            this.getData();\r\n            return;\r\n          }\r\n          this.$message.error(result.msg);\r\n        });\r\n      }).catch(_ => {\r\n        // this.$message('已取消删除！');\r\n      });\r\n    },\r\n    dateFormat (row, column) {\r\n      let dateStr = row[column.property];\r\n      let date = Tools.parseDate(dateStr);\r\n      return Tools.formatDate(date, 'yyyy-MM-dd hh:mm');\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      searchDate: '',\r\n      tableData: [],\r\n      count: 0,\r\n      pageSize: 5,\r\n      page: 1,\r\n      dateVal: [],\r\n      formLabelWidth: '100px',\r\n      // '0:未审核 1:部门审核 2:项目审核 3:CTO审核' 4:审核通过 5:审核拒绝,\r\n      options: checkStatus\r\n    };\r\n  },\r\n  created () {\r\n    this.getData();\r\n    bus.$on('applySuccess', () => { this.getData(); });\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.mrg10 {\r\n  margin: 10px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/ot/ot-myot.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mrg10 t-left\"},[_c('span',{staticClass:\"demonstration\"},[_vm._v(\"月份\")]),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"type\":\"month\",\"placeholder\":\"选择月\"},on:{\"change\":_vm.search},model:{value:(_vm.searchDate),callback:function ($$v) {_vm.searchDate=$$v},expression:\"searchDate\"}})],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.$store.state.common.tableLoading),expression:\"$store.state.common.tableLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"编号\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s((scope.$index + 1) + (_vm.pageSize * (_vm.page - 1))))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"申请者\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"deptName\",\"label\":\"部门\",\"min-width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"startTime\",\"label\":\"开始时间\",\"formatter\":_vm.dateFormat,\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"endTime\",\"label\":\"结束时间\",\"formatter\":_vm.dateFormat,\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"days\",\"label\":\"总时长\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"holidays\",\"label\":\"调休时长\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"reason\",\"label\":\"加班事由\",\"min-width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\r\\n       \"+_vm._s(_vm.options['status'+scope.row.status].name)+\"\\r\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"t_dept.checkerName\",\"label\":\"审批人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.dataDetail(scope.row)}}},[_vm._v(\"详情\")]),_vm._v(\" \"),(scope.row.status === 0)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.dataDetail(scope.row, true)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.deleteData(scope.row.id)}}},[_vm._v(\"强制撤回\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticClass:\"overHidden t-right mrg10\",attrs:{\"background\":\"\",\"layout\":\"sizes, prev, pager, next\",\"page-sizes\":[5, 10, 20, 50],\"page-size\":_vm.pageSize,\"total\":_vm.count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('ot-info-detail-dialog',{ref:\"detailDialog\",on:{\"callback\":_vm.updateData}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-40e706b8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/ot/ot-myot.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40e706b8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=styles&index=0!./ot-myot.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ot-myot.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ot-myot.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40e706b8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./ot-myot.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ot/ot-myot.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.9@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-138fcea8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./ot-info-detail-dialog.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.1@vue-style-loader/lib/addStylesClient.js\")(\"cfe117c2\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.1@vue-style-loader!./node_modules/_css-loader@0.28.9@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-138fcea8\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/ot/components/ot-info-detail-dialog.vue\n// module id = QpbR\n// module chunks = 1 13 14","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.9@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.mrg10 {\\n  margin: 10px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"F:/OTProduction/app/src/views/ot/ot-myot.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,aAAa;CACd\",\"file\":\"ot-myot.vue\",\"sourcesContent\":[\"\\n.mrg10 {\\n  margin: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.9@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-40e706b8\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/ot/ot-myot.vue\n// module id = XOUc\n// module chunks = 1","import request from './request';\r\n\r\nconst examina = {\r\n\r\n  /* @desc 获取我的审核列表数据 */\r\n  getCheckedList: function (params) {\r\n    return request.post('examina/getCheckedList', params, request.TABLE_LOADING);\r\n  },\r\n\r\n  /* @desc 获取我的审核列表数据 */\r\n  getExaminaList: function (params) {\r\n    return request.post('examina/getExaminaList', params, request.TABLE_LOADING);\r\n  },\r\n  /* @desc 审核我的审核 */\r\n  changeExaminaStatus: function (params) {\r\n    return request.post('examina/changeExaminaStatus', params, request.FULL_LOADING);\r\n  },\r\n\r\n  /* @desc 批量审核我的审核 */\r\n  passExaminaList: function (params) {\r\n    return request.post('examina/passExaminaList', params, request.FULL_LOADING);\r\n  }\r\n};\r\nexport default examina;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/apply.js","const HttpStatus = {\r\n  SUCCESS: 1, // 返回成功\r\n  FAIL: -1, // 返回失败\r\n  EMPTY: -2, // 数据为空\r\n  EXCEPTION: -3, // 程序异常\r\n  ERROR_DB: 11, // 数据库请求异常\r\n  ERROR_PARAMS: 12 // 入参异常\r\n};\r\n\r\nHttpStatus.checkHttpResult = (result) => {\r\n  return result && result.code === HttpStatus.SUCCESS;\r\n};\r\n\r\nexport default HttpStatus;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/http/status.js","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.9@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.reject-tip {\\n  margin: 0 10px;\\n  color: red;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"F:/OTProduction/app/src/views/ot/components/ot-info-detail-dialog.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,eAAe;EACf,WAAW;CACZ\",\"file\":\"ot-info-detail-dialog.vue\",\"sourcesContent\":[\"\\n.reject-tip {\\n  margin: 0 10px;\\n  color: red;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.9@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-138fcea8\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/ot/components/ot-info-detail-dialog.vue\n// module id = iDuR\n// module chunks = 1 13 14","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.9@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40e706b8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./ot-myot.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.1@vue-style-loader/lib/addStylesClient.js\")(\"682d91dc\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.1@vue-style-loader!./node_modules/_css-loader@0.28.9@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-40e706b8\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/ot/ot-myot.vue\n// module id = vRyr\n// module chunks = 1","<template>\r\n   <div>\r\n   <el-dialog title=\"详情\" :visible.sync=\"dialogFormVisible\" @close=\"close\">\r\n    <el-form >\r\n      <el-form-item label=\"编号\" :label-width=\"formLabelWidth\">\r\n        <el-input  v-model=\"selectedData.id\" disabled></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"申请者\" :label-width=\"formLabelWidth\">\r\n        <el-input  v-model=\"selectedData.name\" disabled></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"部门\" :label-width=\"formLabelWidth\">\r\n        <el-input v-if=\"selectedData.deptName\" v-model=\"selectedData.deptName\" disabled></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"加班时间\" :label-width=\"formLabelWidth\">\r\n          <el-date-picker\r\n          :disabled=\"!isEdited\"\r\n        v-model=\"dateVal\"\r\n        type=\"datetimerange\"\r\n        range-separator=\"至\"\r\n        start-placeholder=\"开始日期\"\r\n        end-placeholder=\"结束日期\"\r\n        format=\"yyyy-MM-dd HH:mm\" \r\n        @change=\"changeTime\">\r\n      </el-date-picker>\r\n      </el-form-item>\r\n      <el-form-item label=\"总时长\" :label-width=\"formLabelWidth\">\r\n        <el-input  v-model=\"selectedData.days\" disabled></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"调休时长\" :label-width=\"formLabelWidth\">\r\n        <el-input  v-model=\"selectedData.holidays\" :disabled=\"!isEdited\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"事由\" :label-width=\"formLabelWidth\">\r\n        <el-input  v-model=\"selectedData.reason\" :disabled=\"!isEdited\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"状态\" :label-width=\"formLabelWidth\">\r\n       <template slot-scope=\"scope\">\r\n        <!-- {{options[scope.row.status]}} -->\r\n       {{ options['status'+selectedData.status].name}} \r\n       <span class=\"reject-tip\" v-if=\"selectedData.status === 11 || selectedData.status === 21 || selectedData.status === 31\"> \r\n         (拒绝理由: \r\n              <span v-if=\"selectedData.remark1\">{{selectedData.operator}}:{{selectedData.remark1 }}</span>\r\n              <span v-if=\"selectedData.remark2\">{{selectedData.operator}}:{{selectedData.remark2 }}</span>\r\n        )\r\n       </span>\r\n     \r\n\r\n      </template>\r\n      </el-form-item>\r\n        <el-form-item label=\"部门负责人\" :label-width=\"formLabelWidth\">\r\n        <el-input v-model=\"selectedData.leaderName\" disabled></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n        \r\n      <el-button v-if=\"isEdited&&(selectedData.status === 1 || selectedData.status === 2 || selectedData.status === 3)\" type=\"danger\" @click=\"changeStatus('reject',selectedData)\">审核拒绝</el-button>\r\n      <el-button v-if=\"isEdited&&(selectedData.status === 11 || selectedData.status === 21 || selectedData.status === 31)\" type=\"success\" @click=\"changeStatus('pass',selectedData)\">审核通过</el-button>\r\n       \r\n      <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"updateData\" v-if=\"isEdited\">保 存</el-button>\r\n    </div>\r\n  </el-dialog>\r\n </div> \r\n</template>\r\n<script>\r\nimport Tools from '@/common/utils/tools';\r\nimport checkStatus from '@/common/utils/check-status';\r\nimport { fuzzySearch } from '@/common/api/user';\r\nimport ApplyApi from '@/common/api/apply';\r\nimport HttpStatus from '@/common/http/status';\r\nimport { applyOt } from '@/common/api/info';\r\nexport default {\r\n  data () {\r\n    return {\r\n      dialogFormVisible: false,\r\n      dateVal: [],\r\n      formLabelWidth: '100px',\r\n      isEdited: false,\r\n      options: checkStatus,\r\n      selectedData: { t_dept: {} }\r\n    };\r\n  },\r\n  methods: {\r\n    open (data, isEdited) {\r\n      this.dialogFormVisible = true;\r\n      if (isEdited) this.isEdited = isEdited;\r\n      this.selectedData = Object.assign({}, data);\r\n      this.dateVal = [this.selectedData.startTime, this.selectedData.endTime];\r\n      if (this.selectedData.operator) {\r\n        fuzzySearch({ account: this.selectedData.operator }).then((result) => {\r\n          if (result.code === 1) {\r\n            if (result.data && result.data[0]) {\r\n              this.selectedData.operator = result.data[0].realname;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    changeStatus (passStatus, row) {\r\n      // status.passStatus = passStatus;\r\n      // this.$emit('callback', status);\r\n      if (passStatus === 'reject') {\r\n        this.$prompt('请输入理由', '提示', {\r\n          confirmButtonText: '拒绝',\r\n          cancelButtonText: '取消',\r\n          inputPattern: /\\S/,\r\n          inputErrorMessage: '请输入拒绝理由'\r\n        }).then(({ value }) => {\r\n          console.log('@@##rejct :' + JSON.stringify(row));\r\n          ApplyApi.changeExaminaStatus({\r\n            id: row.id,\r\n            deptId: row.deptId,\r\n            status: row.status,\r\n            reason: row.reason,\r\n            remark: value, // 状态改变原因\r\n            holidays: row.holidays,\r\n            startTime: this.selectedData.startTime,\r\n            endTime: this.selectedData.endTime,\r\n            days: this.selectedData.days,\r\n            ctrl: passStatus,\r\n            rejectOwn: true // 修改拒绝自己\r\n          }).then(result => {\r\n            if (HttpStatus.checkHttpResult(result)) {\r\n              this.$emit('callback', this.selectedData);\r\n              this.close();\r\n            } else {\r\n              this.$message.error(result.msg);\r\n            }\r\n          });\r\n        }).catch(() => {\r\n\r\n        });\r\n      } else if (passStatus === 'pass') {\r\n        ApplyApi.changeExaminaStatus({\r\n          id: row.id,\r\n          deptId: row.deptId,\r\n          status: row.status,\r\n          reason: row.reason,\r\n          ctrl: passStatus,\r\n          holidays: row.holidays,\r\n          startTime: this.selectedData.startTime,\r\n          endTime: this.selectedData.endTime,\r\n          days: this.selectedData.days\r\n        }).then(result => {\r\n          if (HttpStatus.checkHttpResult(result)) {\r\n            this.$emit('callback', this.selectedData);\r\n            this.close();\r\n          } else {\r\n            this.$message.error(result.msg);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    close () {\r\n      this.dialogFormVisible = false;\r\n      this.selectedData = { status: 0, t_dept: {} };\r\n      this.isEdited = false;\r\n    },\r\n    updateData () {\r\n      // this.$emit('callback', this.selectedData);\r\n      if (this.selectedData.holidays === '') {\r\n        this.selectedData.holidays = 0;\r\n      }\r\n      applyOt(this.selectedData).then(result => {\r\n        this.dialogFormVisible = false;\r\n        if (result.code === 1) {\r\n          this.$emit('callback', this.selectedData);\r\n          this.$refs.detailDialog.close();\r\n          this.$message({\r\n            message: '修改成功！',\r\n            type: 'success'\r\n          });\r\n          return;\r\n        }\r\n        this.$message.error(result.msg);\r\n      });\r\n    },\r\n    changeTime (time) {\r\n      this.selectedData.startTime = Tools.formatDate(time[0].getTime(), 'yyyy-MM-dd hh:mm:ss');\r\n      this.selectedData.endTime = Tools.formatDate(time[1].getTime(), 'yyyy-MM-dd hh:mm:ss');\r\n      // let total = new Date(time[1] - time[0]).getTime();\r\n      this.selectedData.days = Tools.getValidHoliDays(time[0], time[1]);\r\n    }\r\n  },\r\n  created () {\r\n\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.reject-tip {\r\n  margin: 0 10px;\r\n  color: red;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/ot/components/ot-info-detail-dialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":\"详情\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event},\"close\":_vm.close}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"编号\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.selectedData.id),callback:function ($$v) {_vm.$set(_vm.selectedData, \"id\", $$v)},expression:\"selectedData.id\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"申请者\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.selectedData.name),callback:function ($$v) {_vm.$set(_vm.selectedData, \"name\", $$v)},expression:\"selectedData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门\",\"label-width\":_vm.formLabelWidth}},[(_vm.selectedData.deptName)?_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.selectedData.deptName),callback:function ($$v) {_vm.$set(_vm.selectedData, \"deptName\", $$v)},expression:\"selectedData.deptName\"}}):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"加班时间\",\"label-width\":_vm.formLabelWidth}},[_c('el-date-picker',{attrs:{\"disabled\":!_vm.isEdited,\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"format\":\"yyyy-MM-dd HH:mm\"},on:{\"change\":_vm.changeTime},model:{value:(_vm.dateVal),callback:function ($$v) {_vm.dateVal=$$v},expression:\"dateVal\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"总时长\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.selectedData.days),callback:function ($$v) {_vm.$set(_vm.selectedData, \"days\", $$v)},expression:\"selectedData.days\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"调休时长\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":!_vm.isEdited},model:{value:(_vm.selectedData.holidays),callback:function ($$v) {_vm.$set(_vm.selectedData, \"holidays\", $$v)},expression:\"selectedData.holidays\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"事由\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":!_vm.isEdited},model:{value:(_vm.selectedData.reason),callback:function ($$v) {_vm.$set(_vm.selectedData, \"reason\", $$v)},expression:\"selectedData.reason\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"label-width\":_vm.formLabelWidth},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n      \"+_vm._s(_vm.options['status'+_vm.selectedData.status].name)+\" \\n      \"),(_vm.selectedData.status === 11 || _vm.selectedData.status === 21 || _vm.selectedData.status === 31)?_c('span',{staticClass:\"reject-tip\"},[_vm._v(\" \\n        (拒绝理由: \\n             \"),(_vm.selectedData.remark1)?_c('span',[_vm._v(_vm._s(_vm.selectedData.operator)+\":\"+_vm._s(_vm.selectedData.remark1))]):_vm._e(),_vm._v(\" \"),(_vm.selectedData.remark2)?_c('span',[_vm._v(_vm._s(_vm.selectedData.operator)+\":\"+_vm._s(_vm.selectedData.remark2))]):_vm._e(),_vm._v(\"\\n       )\\n      \")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门负责人\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.selectedData.leaderName),callback:function ($$v) {_vm.$set(_vm.selectedData, \"leaderName\", $$v)},expression:\"selectedData.leaderName\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.isEdited&&(_vm.selectedData.status === 1 || _vm.selectedData.status === 2 || _vm.selectedData.status === 3))?_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.changeStatus('reject',_vm.selectedData)}}},[_vm._v(\"审核拒绝\")]):_vm._e(),_vm._v(\" \"),(_vm.isEdited&&(_vm.selectedData.status === 11 || _vm.selectedData.status === 21 || _vm.selectedData.status === 31))?_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.changeStatus('pass',_vm.selectedData)}}},[_vm._v(\"审核通过\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.isEdited)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateData}},[_vm._v(\"保 存\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-138fcea8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/ot/components/ot-info-detail-dialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-138fcea8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=styles&index=0!./ot-info-detail-dialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ot-info-detail-dialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ot-info-detail-dialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-138fcea8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./ot-info-detail-dialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ot/components/ot-info-detail-dialog.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}