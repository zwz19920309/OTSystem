{"version":3,"sources":["webpack:///./src/views/ot/ot-myexamine.vue?8346","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/get-iterator.js","webpack:///./src/views/ot/ot-myexamine.vue?5dde","webpack:///src/views/ot/ot-myexamine.vue","webpack:///./src/views/ot/ot-myexamine.vue?3f58","webpack:///./src/views/ot/ot-myexamine.vue","webpack:///./src/common/api/apply.js","webpack:///./node_modules/_core-js@2.5.3@core-js/library/fn/get-iterator.js","webpack:///./src/common/http/status.js","webpack:///./node_modules/_core-js@2.5.3@core-js/library/modules/core.get-iterator.js"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","default","__esModule","content","locals","ot_myexamine","_this","this","getList","item","pageSize","page","edit","_this2","userInfo","id","account","then","result","rows","count","msg","_this3","_this4","row","_this5","deptId","status","ctrl","_ref","value","_iteratorNormalCompletion","_step","_this6","multipleSelection","val","property","dateStr","check_status","ot_ot_myexamine","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","placeholder","on","change","selectModelChange","model","callback","$$v","selectModel","expression","_l","key","label","directives","name","rawName","$store","state","common","ref","staticStyle","width","data","tableData","border","max-height","selection-change","handleSelectionChange","type","prop","min-width","formatter","dateFormat","show-overflow-tooltip","scopedSlots","_u","fn","scope","_s","options","fixed","click","$event","handleClick","singleCtrl","_e","selectAll","toggleSelection","multipPass","background","layout","page-sizes","page-size","total","totalCount","size-change","handleSizeChange","current-change","handleCurrentChange","dialogCallback","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","examina","getCheckedList","params","__WEBPACK_IMPORTED_MODULE_0__request__","post","TABLE_LOADING","getExaminaList","changeExaminaStatus","FULL_LOADING","passExaminaList","HttpStatus","SUCCESS","FAIL","EMPTY","EXCEPTION","ERROR_DB","ERROR_PARAMS","code","anObject","get","getIterator","it","iterFn","TypeError","call"],"mappings":"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","file":"static/js/2.9e96676e523a47e911e6.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.9@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.mrg10 {\\n  margin: 10px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"F:/OTProduction/app/src/views/ot/ot-myexamine.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,aAAa;CACd\",\"file\":\"ot-myexamine.vue\",\"sourcesContent\":[\"\\n.mrg10 {\\n  margin: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.9@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4dec1582\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/ot/ot-myexamine.vue\n// module id = DN5n\n// module chunks = 2","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/get-iterator.js\n// module id = HzJ8\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.9@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4dec1582\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./ot-myexamine.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.1@vue-style-loader/lib/addStylesClient.js\")(\"46c74b18\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.1@vue-style-loader!./node_modules/_css-loader@0.28.9@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4dec1582\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/ot/ot-myexamine.vue\n// module id = Iq50\n// module chunks = 2","<template>\r\n<div class=\"t-left\">\r\n   <div class=\"mrg10 t-left\">\r\n    <span class=\"demonstration\">审批状态 </span>\r\n    <el-select v-model=\"selectModel\" placeholder=\"请选择\" @change=\"selectModelChange\">\r\n      <el-option\r\n      v-for=\"item in modelOptions\"\r\n      :key=\"item.value\"\r\n      :label=\"item.label\"\r\n      :value=\"item.value\">\r\n      </el-option>\r\n     </el-select>\r\n  </div>\r\n  <el-table\r\n   v-loading=\"$store.state.common.tableLoading\"\r\n    :data=\"tableData\"\r\n    border\r\n    @selection-change=\"handleSelectionChange\"\r\n    class=\"t-center\"\r\n    max-height=\"600\"\r\n    ref=\"multipleTable\"\r\n    style=\"width: 100%\">\r\n    <el-table-column\r\n      type=\"selection\"\r\n      width=\"55\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      type=index\r\n      prop=\"index\"\r\n      label=\"编号\"\r\n      width=\"80\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"name\"\r\n      label=\"申请者\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"deptName\"\r\n      label=\"部门\"\r\n      min-width=\"150\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"startTime\"\r\n      label=\"开始时间\"\r\n      :formatter=\"dateFormat\"\r\n      min-width=\"120\"  \r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"endTime\"\r\n      label=\"结束时间\"\r\n      :formatter=\"dateFormat\"\r\n      min-width=\"120\"  \r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"days\"\r\n      label=\"总时长\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"holidays\"\r\n      label=\"调休时长\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"reason\"\r\n      label=\"加班事由\"\r\n      min-width=\"150\"\r\n      show-overflow-tooltip\r\n      >\r\n      <!-- show-overflow-tooltip 过长时，会在hover的时候显示全部信息 -->\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"status\"\r\n      label=\"状态\"\r\n      >\r\n       <template slot-scope=\"scope\">\r\n        <!-- {{options[scope.row.status]}} -->\r\n       {{ options['status'+scope.row.status].name}}\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column\r\n      fixed=\"right\"\r\n      label=\"操作\"\r\n      min-width=\"150\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button @click=\"handleClick(scope.row,false)\" type=\"text\">详情</el-button>\r\n        <!-- <el-button type=\"text\">撤销</el-button> -->\r\n        <el-button @click=\"handleClick(scope.row,true)\" type=\"text\">编辑</el-button>\r\n        <el-button v-if=\"selectModel === 0\"  type=\"text\" @click=\"singleCtrl(scope.row, 'pass')\">审核通过</el-button>\r\n        <el-button v-if=\"selectModel === 0\" type=\"text\" @click=\"singleCtrl(scope.row, 'reject')\">审核拒绝</el-button>\r\n        <!-- <el-button type=\"text\">删除</el-button> -->\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n  <div class=\"mrg10\">\r\n    <el-button @click=\"selectAll(tableData)\">全选</el-button>\r\n    <el-button @click=\"toggleSelection(tableData)\">反选</el-button>\r\n    <el-button type=\"primary\" @click=\"multipPass()\">批量通过</el-button>\r\n  </div>\r\n   <el-pagination\r\n    background\r\n    layout=\"sizes, prev, pager, next\"\r\n    @size-change=\"handleSizeChange\"\r\n    @current-change=\"handleCurrentChange\"\r\n    :page-sizes=\"[5, 10, 20, 50]\"\r\n    :page-size=\"pageSize\"\r\n    :total=\"totalCount\"\r\n    class=\"overHidden t-right mrg10\"\r\n    >\r\n  </el-pagination>\r\n   <ot-info-detail-dialog ref=\"detailDialog\" @callback=\"dialogCallback\"></ot-info-detail-dialog>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ApplyApi from '@/common/api/apply';\r\nimport Tools from '@/common/utils/tools';\r\nimport HttpStatus from '@/common/http/status';\r\nimport checkStatus from '@/common/utils/check-status';\r\nimport bus from '@/common/bus/bus';\r\n// import Vue from 'vue';\r\nexport default {\r\n  components: {\r\n    'ot-info-detail-dialog': () => import('./components/ot-info-detail-dialog.vue')\r\n  },\r\n  mounted () {\r\n    console.log('@@##myexamine mounted!!');\r\n    this.getList();\r\n    bus.$on('applySuccess', () => { this.getList(); });\r\n  },\r\n  methods: {\r\n    selectModelChange (item) {\r\n      console.log('@@##selectModelChange:' + JSON.stringify(item));\r\n\r\n      this.getList();\r\n    },\r\n    handleSizeChange (pageSize) {\r\n      this.pageSize = pageSize;\r\n      this.getList();\r\n    },\r\n    handleCurrentChange (page) {\r\n      this.page = page;\r\n      this.getList();\r\n    },\r\n    handleClick (row, edit) {\r\n      this.$refs.detailDialog.open(row, edit);\r\n    },\r\n    /* @desc 获取列表数据 */\r\n    getList () {\r\n      let user = this.$store.state.user.userInfo;\r\n      if (this.selectModel === 1) {\r\n        ApplyApi.getCheckedList({\r\n          userId: user.id,\r\n          page: this.page,\r\n          size: this.pageSize,\r\n          account: user.account\r\n        }).then(result => {\r\n          if (HttpStatus.checkHttpResult(result)) {\r\n            this.tableData = result.data.rows;\r\n            this.totalCount = result.data.count;\r\n          } else {\r\n            this.$message.error(result.msg);\r\n          }\r\n        });\r\n      } else {\r\n        ApplyApi.getExaminaList({\r\n          userId: user.id,\r\n          page: this.page,\r\n          size: this.pageSize,\r\n          account: user.account\r\n        }).then(result => {\r\n          if (HttpStatus.checkHttpResult(result)) {\r\n            this.tableData = result.data.rows;\r\n            this.totalCount = result.data.count;\r\n          } else {\r\n            this.$message.error(result.msg);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    /* 全选 */\r\n    selectAll (table) {\r\n      if (table) {\r\n        table.forEach(row => {\r\n          this.$refs.multipleTable.toggleRowSelection(row, true);\r\n        });\r\n      }\r\n    },\r\n    /* 反选 */\r\n    toggleSelection (table) {\r\n      if (table) {\r\n        table.forEach(row => {\r\n          this.$refs.multipleTable.toggleRowSelection(row);\r\n        });\r\n      }\r\n    },\r\n    /* @desc 单个审核\r\n    @params row--列表上的数据对象，status--通过或拒绝\r\n    @author jiabao\r\n    */\r\n    singleCtrl (row, ctrl) {\r\n      if (ctrl === 'reject') {\r\n        this.$prompt('请输入理由', '提示', {\r\n          confirmButtonText: '拒绝',\r\n          cancelButtonText: '取消',\r\n          inputPattern: /\\S/,\r\n          inputErrorMessage: '请输入拒绝理由'\r\n        }).then(({ value }) => {\r\n          ApplyApi.changeExaminaStatus({\r\n            id: row.id,\r\n            deptId: row.deptId,\r\n            status: row.status,\r\n            remark: value,\r\n            ctrl: ctrl\r\n          }).then(result => {\r\n            if (HttpStatus.checkHttpResult(result)) {\r\n              this.getList();\r\n            } else {\r\n              this.$message.error(result.msg);\r\n            }\r\n          });\r\n        }).catch(() => {\r\n\r\n        });\r\n        return;\r\n      }\r\n      ApplyApi.changeExaminaStatus({\r\n        id: row.id,\r\n        deptId: row.deptId,\r\n        status: row.status,\r\n        ctrl: ctrl\r\n      }).then(result => {\r\n        if (HttpStatus.checkHttpResult(result)) {\r\n          this.getList();\r\n        } else {\r\n          this.$message.error(result.msg);\r\n        }\r\n      });\r\n    },\r\n    /* @desc 每一行发生勾选变化时，将勾选中的行数存到数组中\r\n    @param val--状态是选中的行数数组\r\n    */\r\n    handleSelectionChange (val) {\r\n      this.multipleSelection = [];\r\n      if (val && val.length > 0) {\r\n        for (let item of val) {\r\n          this.multipleSelection.push(item.id);\r\n        }\r\n      }\r\n    },\r\n    /* @desc 批量审核通过 */\r\n    multipPass () {\r\n      if (!this.multipleSelection || this.multipleSelection.length < 1) {\r\n        this.$message.error('请需要审核的选项!');\r\n        return;\r\n      }\r\n      ApplyApi.passExaminaList({\r\n        ids: this.multipleSelection\r\n      }).then(result => {\r\n        if (HttpStatus.checkHttpResult(result)) {\r\n          this.changePage(0);\r\n          this.getList();\r\n        }\r\n      });\r\n    },\r\n    /* @desc 改变页数 */\r\n    changePage (val) {\r\n      this.page = val;\r\n    },\r\n    dateFormat (row, column) {\r\n      let dateStr = row[column.property];\r\n      let date = Tools.parseDate(dateStr);\r\n      return Tools.formatDate(date, 'yyyy-MM-dd hh:mm');\r\n    },\r\n    dialogCallback (data) {\r\n      this.getList();\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      tableData: [], // 表格数据\r\n      pageSize: 10, // 一页显示的条数\r\n      page: 1, // 当前页\r\n      totalCount: 0, // 数据总数\r\n      multipleSelection: [], // 被选中的行数\r\n      options: checkStatus,\r\n      selectModel: 0,\r\n      modelOptions: [\r\n        {\r\n          value: 0,\r\n          label: '未审批'\r\n        }, {\r\n          value: 1,\r\n          label: '已审批'\r\n        }\r\n      ]\r\n    };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.mrg10 {\r\n  margin: 10px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/ot/ot-myexamine.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"t-left\"},[_c('div',{staticClass:\"mrg10 t-left\"},[_c('span',{staticClass:\"demonstration\"},[_vm._v(\"审批状态 \")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.selectModelChange},model:{value:(_vm.selectModel),callback:function ($$v) {_vm.selectModel=$$v},expression:\"selectModel\"}},_vm._l((_vm.modelOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.$store.state.common.tableLoading),expression:\"$store.state.common.tableLoading\"}],ref:\"multipleTable\",staticClass:\"t-center\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"max-height\":\"600\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"index\",\"prop\":\"index\",\"label\":\"编号\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"申请者\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"deptName\",\"label\":\"部门\",\"min-width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"startTime\",\"label\":\"开始时间\",\"formatter\":_vm.dateFormat,\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"endTime\",\"label\":\"结束时间\",\"formatter\":_vm.dateFormat,\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"days\",\"label\":\"总时长\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"holidays\",\"label\":\"调休时长\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"reason\",\"label\":\"加班事由\",\"min-width\":\"150\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\r\\n       \"+_vm._s(_vm.options['status'+scope.row.status].name)+\"\\r\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleClick(scope.row,false)}}},[_vm._v(\"详情\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleClick(scope.row,true)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),(_vm.selectModel === 0)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.singleCtrl(scope.row, 'pass')}}},[_vm._v(\"审核通过\")]):_vm._e(),_vm._v(\" \"),(_vm.selectModel === 0)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.singleCtrl(scope.row, 'reject')}}},[_vm._v(\"审核拒绝\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"mrg10\"},[_c('el-button',{on:{\"click\":function($event){_vm.selectAll(_vm.tableData)}}},[_vm._v(\"全选\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.toggleSelection(_vm.tableData)}}},[_vm._v(\"反选\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.multipPass()}}},[_vm._v(\"批量通过\")])],1),_vm._v(\" \"),_c('el-pagination',{staticClass:\"overHidden t-right mrg10\",attrs:{\"background\":\"\",\"layout\":\"sizes, prev, pager, next\",\"page-sizes\":[5, 10, 20, 50],\"page-size\":_vm.pageSize,\"total\":_vm.totalCount},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('ot-info-detail-dialog',{ref:\"detailDialog\",on:{\"callback\":_vm.dialogCallback}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-4dec1582\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/ot/ot-myexamine.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4dec1582\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=styles&index=0!./ot-myexamine.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ot-myexamine.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ot-myexamine.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4dec1582\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./ot-myexamine.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ot/ot-myexamine.vue\n// module id = null\n// module chunks = ","import request from './request';\r\n\r\nconst examina = {\r\n\r\n  /* @desc 获取我的审核列表数据 */\r\n  getCheckedList: function (params) {\r\n    return request.post('examina/getCheckedList', params, request.TABLE_LOADING);\r\n  },\r\n\r\n  /* @desc 获取我的审核列表数据 */\r\n  getExaminaList: function (params) {\r\n    return request.post('examina/getExaminaList', params, request.TABLE_LOADING);\r\n  },\r\n  /* @desc 审核我的审核 */\r\n  changeExaminaStatus: function (params) {\r\n    return request.post('examina/changeExaminaStatus', params, request.FULL_LOADING);\r\n  },\r\n\r\n  /* @desc 批量审核我的审核 */\r\n  passExaminaList: function (params) {\r\n    return request.post('examina/passExaminaList', params, request.FULL_LOADING);\r\n  }\r\n};\r\nexport default examina;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/apply.js","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.5.3@core-js/library/fn/get-iterator.js\n// module id = aSM5\n// module chunks = 2","const HttpStatus = {\r\n  SUCCESS: 1, // 返回成功\r\n  FAIL: -1, // 返回失败\r\n  EMPTY: -2, // 数据为空\r\n  EXCEPTION: -3, // 程序异常\r\n  ERROR_DB: 11, // 数据库请求异常\r\n  ERROR_PARAMS: 12 // 入参异常\r\n};\r\n\r\nHttpStatus.checkHttpResult = (result) => {\r\n  return result && result.code === HttpStatus.SUCCESS;\r\n};\r\n\r\nexport default HttpStatus;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/http/status.js","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.5.3@core-js/library/modules/core.get-iterator.js\n// module id = rLQK\n// module chunks = 2"],"sourceRoot":""}