{"version":3,"sources":["webpack:///./src/common/api/settings/auth.js","webpack:///./src/views/ot/ot-allovertimen.vue?62a9","webpack:///./src/common/api/overtimen.js","webpack:///./src/views/ot/ot-allovertimen.vue?0e96","webpack:///src/views/ot/ot-allovertimen.vue","webpack:///./src/views/ot/ot-allovertimen.vue?526a","webpack:///./src/views/ot/ot-allovertimen.vue"],"names":["authApi","getDeptList","params","__WEBPACK_IMPORTED_MODULE_0__request__","post","FULL_LOADING","updateDept","testFile","__webpack_exports__","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","overtimen","infoList","BUTTON_LOADING","download","get","findDataByPage","deleteData","updateData","downloadExcelUrl","backend","ip","content","locals","ot_allovertimen","Date","check_status","_this","this","datePeriod","list","total","_this2","data","msg","size","getAllovertimen","current","date","_this3","id","reverseData","_this4","then","_","catch","_this5","_this6","endTime","selectedData","property","dateStr","val","_this7","ot_ot_allovertimen","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","inline","_v","_s","downDate","type","value-format","max-height","placeholder","on","change","changeDate","model","value","callback","$$v","searchDate","expression","label","label-width","changeDept","deptId","_l","dept","key","name","status","icon","click","staticStyle","width","dataList","border","prop","min-width","formatter","dateFormat","scopedSlots","_u","fn","scope","options","row","fixed","$event","dataDetail","current-page","currentPage","page-sizes","page-size","limit","layout","size-change","sizeChange","current-change","currentChange","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"oEAEMA,GAEJC,YAAa,SAAUC,GACrB,OAAOC,EAAA,EAAQC,KAAK,uBAAwBF,EAAQC,EAAA,EAAQE,eAG9DC,WAAY,SAAUJ,GACpB,OAAOC,EAAA,EAAQC,KAAK,sBAAuBF,EAAQC,EAAA,EAAQE,eAG7DE,SAAU,SAAUL,GAClB,OAAOC,EAAA,EAAQC,KAAK,oBAAqBF,EAAQC,EAAA,EAAQE,gBAG7DG,EAAA,2BChBAC,EAAAC,QAAAC,EAAA,OAAAA,EAAA,IAKAC,MAAAH,EAAAI,EAAA,8FAAmH,IAAUC,QAAA,EAAAC,SAAA,wDAAAC,SAAAC,SAAA,2DAAyJC,KAAA,sBAAAC,gBAAA,+FAAgJC,WAAA,yDCHhaC,GAMJC,SAAU,SAAUpB,GAClB,OAAOC,EAAA,EAAQC,KAAK,qBAAsBF,EAAQC,EAAA,EAAQoB,iBAO5DC,SAAU,SAAUtB,GAClB,OAAOC,EAAA,EAAQsB,IAAI,qBAAsBvB,EAAQC,EAAA,EAAQoB,iBAO3DG,eAAgB,SAAUxB,GACxB,OAAOC,EAAA,EAAQC,KAAK,2BAA4BF,EAAQC,EAAA,EAAQoB,iBAQlEI,WAAY,SAAUzB,GACpB,OAAOC,EAAA,EAAQC,KAAK,uBAAwBF,EAAQC,EAAA,EAAQoB,iBAO9DK,WAAY,SAAU1B,GACpB,OAAOC,EAAA,EAAQC,KAAK,uBAAwBF,EAAQC,EAAA,EAAQoB,iBAK9DM,2BAAkB,EAAOC,QAAQC,GAAK,0BAGxCvB,EAAA,0BC/CA,IAAAwB,EAAArB,EAAA,QACA,iBAAAqB,QAAAvB,EAAAI,EAAAmB,EAAA,MACAA,EAAAC,SAAAxB,EAAAC,QAAAsB,EAAAC,QAEAtB,EAAA,OAAAA,CAAA,WAAAqB,GAAA,0JCwHAE,UAEA,2DAIA,QACA,QACA,kBACAC,wBACA,iBACA,kCAEA,wBACAA,cACAC,EAAA,qBAEA,UACA,QAEA,mIAMA,IAAAC,EAAAC,oFACA,6FACAC,8DACA,qDACA,2BACA,yEAGAC,oBACAC,kCAIA,IAAAC,EAAAJ,yEAIAK,wBAEAC,gDAMA,aACAC,OACAC,8DAIAC,OACAD,0DAIAE,OACAF,mDACAP,0FAKA,+BACA,8DAMA,aACA,aACA,2BAGA,IAAAU,EAAAX,aACAY,sDAGAC,gBACAL,8CAKA,IAAAM,EAAAd,mBACA,YAAAe,KAAA,SAAAC,gBAEAX,KACAY,MAAA,SAAAD,8BAIA,IAAAE,EAAAlB,sEAGAQ,8CAIA,IAAAW,EAAAnB,mBACA,YAAAe,KAAA,SAAAC,gBAEAX,wBACA,IACAY,MAAA,SAAAD,sDAKA,iBACA,8BACAX,+DACAe,0BACAC,8DACA,iDAIA,iBACA,8BACAhB,+DACAe,6CAGAE,0BACAC,2BACA,wDAGAC,uBAGA,IAAAC,EAAAzB,kEAEArC,gBCzQA+D,GADiBC,OAFjB,WAA0B,IAAAC,EAAA5B,KAAa6B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,iBAA2BF,EAAA,WAAgBG,IAAA,OAAAC,OAAkBC,QAAA,KAAeL,EAAA,QAAaE,YAAA,kBAA4BL,EAAAS,GAAA,KAAAT,EAAAU,GAAAV,EAAAW,aAAAX,EAAAS,GAAA,KAAAN,EAAA,kBAAuEI,OAAOK,KAAA,QAAAC,eAAA,aAAAC,aAAA,MAAAC,YAAA,OAAkFC,IAAKC,OAAAjB,EAAAkB,YAAwBC,OAAQC,MAAApB,EAAA,WAAAqB,SAAA,SAAAC,GAAgDtB,EAAAuB,WAAAD,GAAmBE,WAAA,gBAA0BxB,EAAAS,GAAA,KAAAN,EAAA,gBAAiCI,OAAOkB,MAAA,KAAAC,cAAA,UAAmCvB,EAAA,aAAkBI,OAAOQ,YAAA,OAAoBC,IAAKC,OAAAjB,EAAA2B,YAAwBR,OAAQC,MAAApB,EAAA,OAAAqB,SAAA,SAAAC,GAA4CtB,EAAA4B,OAAAN,GAAeE,WAAA,WAAsBxB,EAAA6B,GAAA7B,EAAA,kBAAA8B,GAAsC,OAAA3B,EAAA,aAAuB4B,IAAAD,EAAA9C,GAAAuB,OAAmBkB,MAAAK,EAAAE,KAAAZ,MAAAU,EAAA9C,UAAqC,GAAAgB,EAAAS,GAAA,KAAAN,EAAA,gBAAsCI,OAAOkB,MAAA,QAActB,EAAA,YAAiBgB,OAAOC,MAAApB,EAAA,KAAAqB,SAAA,SAAAC,GAA0CtB,EAAAgC,KAAAV,GAAaE,WAAA,WAAoB,GAAAxB,EAAAS,GAAA,KAAAN,EAAA,gBAAqCI,OAAOkB,MAAA,UAAgBtB,EAAA,aAAkBI,OAAOQ,YAAA,OAAoBI,OAAQC,MAAApB,EAAA,OAAAqB,SAAA,SAAAC,GAA4CtB,EAAAiC,OAAAX,GAAeE,WAAA,WAAsBxB,EAAA6B,GAAA7B,EAAA,iBAAAiC,GAAuC,OAAA9B,EAAA,aAAuB4B,IAAAE,SAAA1B,OAAyBkB,MAAAQ,EAAAD,KAAAZ,MAAAa,gBAA6C,GAAAjC,EAAAS,GAAA,KAAAN,EAAA,aAAmCI,OAAO2B,KAAA,iBAAAtB,KAAA,UAAAjC,KAAA,SAAwDqC,IAAKmB,MAAAnC,EAAApB,mBAA6BoB,EAAAS,GAAA,gBAAAT,EAAAS,GAAA,KAAAN,EAAA,YAAoDiC,aAAaC,MAAA,QAAe9B,OAAQ9B,KAAAuB,EAAAsC,SAAAC,OAAA,MAAiCpC,EAAA,mBAAwBI,OAAOK,KAAA,QAAA4B,KAAA,QAAAf,MAAA,KAAAY,MAAA,QAAyDrC,EAAAS,GAAA,KAAAN,EAAA,mBAAoCI,OAAOiC,KAAA,OAAAf,MAAA,SAA6BzB,EAAAS,GAAA,KAAAN,EAAA,mBAAoCI,OAAOiC,KAAA,WAAAf,MAAA,KAAAgB,YAAA,SAAkDzC,EAAAS,GAAA,KAAAN,EAAA,mBAAoCI,OAAOiC,KAAA,YAAAf,MAAA,OAAAiB,UAAA1C,EAAA2C,WAAAF,YAAA,SAAgFzC,EAAAS,GAAA,KAAAN,EAAA,mBAAoCI,OAAOiC,KAAA,UAAAf,MAAA,OAAAiB,UAAA1C,EAAA2C,WAAAF,YAAA,SAA8EzC,EAAAS,GAAA,KAAAN,EAAA,mBAAoCI,OAAOiC,KAAA,OAAAf,MAAA,SAA6BzB,EAAAS,GAAA,KAAAN,EAAA,mBAAoCI,OAAOiC,KAAA,WAAAf,MAAA,UAAkCzB,EAAAS,GAAA,KAAAN,EAAA,mBAAoCI,OAAOiC,KAAA,SAAAf,MAAA,OAAAgB,YAAA,SAAkDzC,EAAAS,GAAA,KAAAN,EAAA,mBAAoCI,OAAOkB,MAAA,MAAamB,YAAA5C,EAAA6C,KAAsBd,IAAA,UAAAe,GAAA,SAAAC,GAAiC,OAAA5C,EAAA,QAAAH,EAAAS,GAAAT,EAAAU,GAAAV,EAAAgD,QAAA,SAAAD,EAAAE,IAAAhB,QAAAD,gBAAsFhC,EAAAS,GAAA,KAAAN,EAAA,mBAAoCI,OAAOiC,KAAA,qBAAAf,MAAA,WAA6CzB,EAAAS,GAAA,KAAAN,EAAA,mBAAoCI,OAAO2C,MAAA,QAAAzB,MAAA,KAAAgB,YAAA,OAA+CG,YAAA5C,EAAA6C,KAAsBd,IAAA,UAAAe,GAAA,SAAAC,GAAiC,OAAA5C,EAAA,aAAwBI,OAAOK,KAAA,OAAAjC,KAAA,SAA6BqC,IAAKmB,MAAA,SAAAgB,GAAyBnD,EAAAoD,WAAAL,EAAAE,SAA4BjD,EAAAS,GAAA,gBAAsB,GAAAT,EAAAS,GAAA,KAAAN,EAAA,OAA4BE,YAAA,cAAwBF,EAAA,iBAAsBI,OAAO8C,eAAArD,EAAAsD,YAAAC,cAAA,aAAAC,YAAAxD,EAAAyD,MAAAC,OAAA,0CAAAnF,MAAAyB,EAAAzB,OAAwJyC,IAAK2C,cAAA3D,EAAA4D,WAAAC,iBAAA7D,EAAA8D,kBAAiE,GAAA9D,EAAAS,GAAA,KAAAN,EAAA,yBAA8CG,IAAA,kBAAmB,IAE3sGyD,oBCCjB,IAcAC,EAdAvH,EAAA,OAcAwH,CACAjG,EACA8B,GATA,EAVA,SAAAoE,GACAzH,EAAA,SAaA,KAEA,MAUAH,EAAA,QAAA0H,EAAA","file":"static/js/4.9422794176e9a76e5a04.js","sourcesContent":["import request from '../request';\r\n\r\nconst authApi = {\r\n  /* @desc 获取我的部门表数据 */\r\n  getDeptList: function (params) {\r\n    return request.post('settings/getDeptList', params, request.FULL_LOADING);\r\n  },\r\n  /* @desc 更新表数据 */\r\n  updateDept: function (params) {\r\n    return request.post('settings/updateDept', params, request.FULL_LOADING);\r\n  },\r\n  /* @desc 更新表数据 */\r\n  testFile: function (params) {\r\n    return request.post('settings/testFile', params, request.FULL_LOADING);\r\n  }\r\n};\r\nexport default authApi;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/settings/auth.js","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.9@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.mrg10 {\\n  margin: 10px;\\n}\\n.next-page {\\n  padding: 10px 0;\\n  text-align: right;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"F:/OTProduction/app/src/views/ot/ot-allovertimen.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,aAAa;CACd;AACD;EACE,gBAAgB;EAChB,kBAAkB;CACnB\",\"file\":\"ot-allovertimen.vue\",\"sourcesContent\":[\"\\n.mrg10 {\\n  margin: 10px;\\n}\\n.next-page {\\n  padding: 10px 0;\\n  text-align: right;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.9@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-59126f22\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/ot/ot-allovertimen.vue\n// module id = TFBp\n// module chunks = 4","import request from './request';\r\nimport config from '@/config/config';\r\nconst overtimen = {\r\n  /*\r\n  * 所有加班\r\n  * @param  {Object} 查询参数\r\n  * @return {Object} 加班列表\r\n  */\r\n  infoList: function (params) {\r\n    return request.post('overtimen/infoList', params, request.BUTTON_LOADING);\r\n  },\r\n  /*\r\n  * 加班列表excel下载\r\n  * @param  {Object} 查询参数\r\n  * @return {File} 加班列表Excel文件\r\n  */\r\n  download: function (params) {\r\n    return request.get('overtimen/download', params, request.BUTTON_LOADING);\r\n  },\r\n   /*\r\n  * 加班列表分页查询\r\n  * @param  {Object} 查询参数\r\n  * @return {Object} 加班列表\r\n  */\r\n  findDataByPage: function (params) {\r\n    return request.post('overtimen/findDataByPage', params, request.BUTTON_LOADING);\r\n  },\r\n\r\n  /*\r\n  * 加班列表分页查询\r\n  * @param  {Object} 查询参数\r\n  * @return {Object} 加班列表\r\n  */\r\n  deleteData: function (params) {\r\n    return request.post('overtimen/deleteData', params, request.BUTTON_LOADING);\r\n  },\r\n  /*\r\n  * 更新加班数据\r\n  * @param  {Object} 更新参数\r\n  * @return {Object} 返回结果\r\n  */\r\n  updateData: function (params) {\r\n    return request.post('overtimen/updateData', params, request.BUTTON_LOADING);\r\n  },\r\n  /*\r\n  * 加班列表excel下载路径\r\n  */\r\n  downloadExcelUrl: config.backend.ip + '/ot/overtimen/download'\r\n};\r\n\r\nexport default overtimen;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/overtimen.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.9@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-59126f22\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./ot-allovertimen.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.1@vue-style-loader/lib/addStylesClient.js\")(\"ae3b63b2\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.1@vue-style-loader!./node_modules/_css-loader@0.28.9@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-59126f22\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/ot/ot-allovertimen.vue\n// module id = kAS4\n// module chunks = 4","<template>\r\n<div>\r\n  <div class=\"mrg10 t-left\">\r\n    \r\n    <el-form ref=\"form\" :inline=\"true\">\r\n      <span class=\"demonstration\">月份{{downDate}}</span>\r\n      <el-date-picker \r\n      v-model=\"searchDate\"\r\n      type=\"month\"\r\n      @change=\"changeDate\"\r\n      value-format=\"yyyy-MM-dd\"\r\n      max-height=\"600\"\r\n      placeholder=\"选择月\">\r\n    </el-date-picker>\r\n    <el-form-item label=\"部门\" label-width=\"80px\">\r\n      <el-select  @change=\"changeDept\" v-model=\"deptId\" placeholder=\"请选择\">\r\n        <el-option\r\n           v-for=\"dept in deptList\"\r\n           :key=\"dept.id\"\r\n           :label=\"dept.name\"\r\n           :value=\"dept.id\">\r\n        </el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n     <el-form-item label=\"姓名\">\r\n        <el-input v-model=\"name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"申请状态\">\r\n      <el-select  placeholder=\"请选择\" v-model=\"status\">\r\n        <el-option\r\n           v-for=\"status in options\"\r\n           :key=\"status.status\"\r\n           :label=\"status.name\"\r\n           :value=\"status.status\">\r\n        </el-option>\r\n      </el-select>\r\n      </el-form-item>\r\n       <el-button icon=\"el-icon-search\" type=\"primary\" @click=\"getAllovertimen\" size=\"small\">搜索</el-button>\r\n    </el-form>  \r\n  </div>\r\n  <el-table\r\n    :data=\"dataList\"\r\n    border\r\n    style=\"width: 100%\">\r\n    <el-table-column\r\n      type=index\r\n      prop=\"index\"\r\n      label=\"编号\"\r\n      width=\"80\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"name\"\r\n      label=\"申请者\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"deptName\"\r\n      label=\"部门\"\r\n      min-width=\"150\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"startTime\"\r\n      label=\"开始时间\"\r\n      :formatter=\"dateFormat\"\r\n       min-width=\"120\"  \r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"endTime\"\r\n      label=\"结束时间\"\r\n      :formatter=\"dateFormat\"\r\n       min-width=\"120\"  \r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"days\"\r\n      label=\"总时长\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"holidays\"\r\n      label=\"调休时长\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"reason\"\r\n      label=\"加班事由\"\r\n      min-width=\"150\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      label=\"状态\"\r\n      >\r\n      <template slot-scope=\"scope\">\r\n        <span>{{options['status'+scope.row.status].name}}</span>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"t_dept.checkerName\"\r\n      label=\"部门负责人\"\r\n      >\r\n    </el-table-column>\r\n    <el-table-column\r\n      fixed=\"right\"\r\n      label=\"操作\"\r\n      min-width=\"120\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button  type=\"text\" size=\"small\"  @click=\"dataDetail(scope.row)\">详情</el-button>\r\n        <!-- <el-button type=\"text\" size=\"small\" @click=\"deletAction(scope.row)\">撤销</el-button>\r\n        <el-button type=\"text\" size=\"small\" @click=\"dataEdit(scope.row)\">编辑</el-button>\r\n        <el-button type=\"text\" size=\"small\" @click=\"deletAction(scope.row)\">删除</el-button> -->\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n  <div class=\"next-page\"> \r\n    <el-pagination @size-change=\"sizeChange\" @current-change=\"currentChange\" :current-page=\"currentPage\" :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"limit\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\"></el-pagination>\r\n  </div>  \r\n  <ot-info-detail-dialog ref=\"detailDialog\" ></ot-info-detail-dialog>\r\n</div>\r\n</template>\r\n<script>\r\nimport Tools from '@/common/utils/tools';\r\nimport overtimen from '@/common/api/overtimen';\r\nimport bus from '@/common/bus/bus';\r\nimport checkStatus from '@/common/utils/check-status';\r\nimport authApi from '@/common/api/settings/auth';\r\n\r\nexport default {\r\n  props: ['downDate'],\r\n  data () {\r\n    return {\r\n      dataList: [],\r\n      currentPage: 1,\r\n      total: 0,\r\n      limit: 10,\r\n      searchDate: new Date(),\r\n      dialogFormVisible: false,\r\n      formLabelWidth: '120px',\r\n      selectedData: {},\r\n      editAble: false,\r\n      dateVal: [new Date(), new Date()],\r\n      options: checkStatus,\r\n      deptList: [],\r\n      deptId: '',\r\n      status: '',\r\n      name: ''\r\n    };\r\n  },\r\n  components: {\r\n    'ot-info-detail-dialog': () => import('./components/ot-info-detail-dialog.vue')\r\n  },\r\n  methods: {\r\n    getAllovertimen () {\r\n      this.datePeriod = this.datePeriod ? this.datePeriod : Tools.formatDate(this.searchDate, 'yyyy-MM-dd');\r\n      let params = { limit: this.limit, offset: (this.currentPage - 1) * this.limit, datePeriod: this.datePeriod };\r\n      params.deptId = (this.deptId || this.deptId === 0) ? this.deptId : '';\r\n      params.status = (this.status || this.status === 0) ? this.status : '';\r\n      params.name = this.name ? params.name : '';\r\n      overtimen.findDataByPage(params).then((result) => {\r\n        if (result.code === 1) {\r\n          this.dataList = result.data.list;\r\n          this.total = result.data.total;\r\n        }\r\n      });\r\n    },\r\n    getDeptList (params) {\r\n      let options = params || {};\r\n      authApi.getDeptList(options).then((result) => {\r\n        if (result.code === 1) {\r\n          this.deptList = result.data;\r\n        } else {\r\n          this.$message.error(result.msg);\r\n        }\r\n      });\r\n    },\r\n    // 多少条一页\r\n    sizeChange (size) {\r\n      this.currentPage = 1;\r\n      this.limit = size;\r\n      this.getAllovertimen();\r\n    },\r\n    // 第几页\r\n    currentChange (current) {\r\n      this.currentPage = current;\r\n      this.getAllovertimen();\r\n    },\r\n    // 日期涮选\r\n    changeDate (date) {\r\n      this.datePeriod = date;\r\n      this.getAllovertimen();\r\n      bus.$emit('changeAllOTDate', this.datePeriod);\r\n    },\r\n    // 修改编辑数据日期\r\n    changeEditorDate (dateVal) {\r\n      if (dateVal && dateVal.length === 2) {\r\n        this.selectedData.startTime = dateVal[0];\r\n        this.selectedData.endTime = dateVal[1];\r\n      }\r\n    },\r\n    // 数据复原\r\n    reverseData () {\r\n      this.dataList = [];\r\n      this.currentPage = 1;\r\n      this.total = 0;\r\n      this.limit = 10;\r\n    },\r\n    // 删除数据\r\n    deleteData (data) {\r\n      let params = { id: data.id };\r\n      overtimen.deleteData(params).then(result => {\r\n        if (result.code === 1) {\r\n          this.reverseData();\r\n          this.getAllovertimen();\r\n        }\r\n      });\r\n    },\r\n    // 删除数据\r\n    deletAction (data) {\r\n      this.$confirm('确认删除该数据？')\r\n        .then(_ => {\r\n          this.deleteData(data);\r\n        })\r\n        .catch(_ => { });\r\n    },\r\n    // 更新数据\r\n    updateData (data) {\r\n      overtimen.updateData(this.selectedData).then(result => {\r\n        if (result.code === 1) {\r\n          this.getAllovertimen();\r\n        }\r\n      });\r\n    },\r\n    updateAction (data) {\r\n      this.$confirm('确认更新该数据？')\r\n        .then(_ => {\r\n          this.updateData(data);\r\n          this.dialogFormVisible = false;\r\n        })\r\n        .catch(_ => { });\r\n    },\r\n    // 详情\r\n    dataDetail (data) {\r\n      this.dialogFormVisible = true;\r\n      this.editAble = false;\r\n      this.selectedData = Tools.clone(data);\r\n      this.dateVal = [this.selectedData.startTime, this.selectedData.endTime];\r\n      console.dir(this.selectedData);\r\n      this.$refs.detailDialog.open(this.selectedData, false);\r\n    },\r\n    // 编辑\r\n    dataEdit (data) {\r\n      this.dialogFormVisible = true;\r\n      this.editAble = true;\r\n      this.selectedData = Tools.clone(data);\r\n      this.dateVal = [this.selectedData.startTime, this.selectedData.endTime];\r\n    },\r\n    dateFormat (row, column) {\r\n      let dateStr = row[column.property];\r\n      let date = Tools.parseDate(dateStr);\r\n      return Tools.formatDate(date, 'yyyy-MM-dd hh:mm');\r\n    },\r\n    changeDept (val) {\r\n      this.deptId = val;\r\n    }\r\n  },\r\n  created () {\r\n    bus.$on('applySuccess', () => { this.getAllovertimen(); });\r\n    this.getDeptList();\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.mrg10 {\r\n  margin: 10px;\r\n}\r\n.next-page {\r\n  padding: 10px 0;\r\n  text-align: right;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/ot/ot-allovertimen.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mrg10 t-left\"},[_c('el-form',{ref:\"form\",attrs:{\"inline\":true}},[_c('span',{staticClass:\"demonstration\"},[_vm._v(\"月份\"+_vm._s(_vm.downDate))]),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"type\":\"month\",\"value-format\":\"yyyy-MM-dd\",\"max-height\":\"600\",\"placeholder\":\"选择月\"},on:{\"change\":_vm.changeDate},model:{value:(_vm.searchDate),callback:function ($$v) {_vm.searchDate=$$v},expression:\"searchDate\"}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门\",\"label-width\":\"80px\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeDept},model:{value:(_vm.deptId),callback:function ($$v) {_vm.deptId=$$v},expression:\"deptId\"}},_vm._l((_vm.deptList),function(dept){return _c('el-option',{key:dept.id,attrs:{\"label\":dept.name,\"value\":dept.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"姓名\"}},[_c('el-input',{model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"申请状态\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},_vm._l((_vm.options),function(status){return _c('el-option',{key:status.status,attrs:{\"label\":status.name,\"value\":status.status}})}))],1),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-search\",\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.getAllovertimen}},[_vm._v(\"搜索\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"prop\":\"index\",\"label\":\"编号\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"申请者\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"deptName\",\"label\":\"部门\",\"min-width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"startTime\",\"label\":\"开始时间\",\"formatter\":_vm.dateFormat,\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"endTime\",\"label\":\"结束时间\",\"formatter\":_vm.dateFormat,\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"days\",\"label\":\"总时长\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"holidays\",\"label\":\"调休时长\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"reason\",\"label\":\"加班事由\",\"min-width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.options['status'+scope.row.status].name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"t_dept.checkerName\",\"label\":\"部门负责人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.dataDetail(scope.row)}}},[_vm._v(\"详情\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"next-page\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.sizeChange,\"current-change\":_vm.currentChange}})],1),_vm._v(\" \"),_c('ot-info-detail-dialog',{ref:\"detailDialog\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-59126f22\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/ot/ot-allovertimen.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-59126f22\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=styles&index=0!./ot-allovertimen.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ot-allovertimen.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ot-allovertimen.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-59126f22\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./ot-allovertimen.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ot/ot-allovertimen.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}